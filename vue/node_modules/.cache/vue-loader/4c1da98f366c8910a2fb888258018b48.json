{"remainingRequest":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\Search.vue?vue&type=style&index=0&id=6a518a88&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\Search.vue","mtime":1735278132994},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1735088235905},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1735088236031},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1735088235826},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5lbC1pbnB1dCB7CiAgd2lkdGg6IDMwMHB4OwogIG1hcmdpbjogMjBweCBhdXRvOwp9Cg=="},{"version":3,"sources":["C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\Search.vue"],"names":[],"mappings":";AAyFA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACR,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACnB","file":"C:/Users/16278/Desktop/homework/software_developing2/javaweb-main/vue/src/views/front/Search.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    <!-- 搜索框 -->\n    <el-input\n      style=\"width: 300px; margin: 20px auto\"\n      v-model=\"name\"\n      clearable\n      placeholder=\"请输入搜索内容\"\n      @keyup.enter=\"search\"\n    ></el-input>\n    <el-button\n      type=\"primary\"\n      style=\"margin-left: 10px\"\n      @click=\"search\"\n    >\n      搜索\n    </el-button>\n\n    <!-- 加载状态 -->\n    <el-loading :loading=\"loading\" text=\"正在加载...\" />\n\n    <!-- 搜索结果展示 -->\n    <el-card v-if=\"tableData.length > 0\">\n      <el-row :gutter=\"10\">\n        <el-col :span=\"4\" v-for=\"item in tableData\" :key=\"item.id\">\n          <el-card\n            style=\"margin-bottom: 10px; cursor: pointer\"\n            @click=\"$router.push('/front/detail?id=' + item.id)\"\n          >\n            <div>\n              <el-image :src=\"item.img\" style=\"width: 100%; height: 150px\"></el-image>\n            </div>\n            <div\n              style=\"text-align: center; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\n            >\n              {{ item.name }}\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </el-card>\n\n    <!-- 空结果提示 -->\n    <div v-else style=\"text-align: center; padding: 20px; color: #888;\">\n      没有找到相关内容...\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Search\",\n  data() {\n    return {\n      name: this.$route.query.name || \"\", // 如果URL中有`name`参数，回填\n      tableData: [],\n      loading: false\n    };\n  },\n  created() {\n    if (this.name) {\n      this.search(); // 如果有初始的`name`，直接搜索\n    }\n  },\n  methods: {\n    search() {\n      if (!this.name.trim()) {\n        this.tableData = []; // 如果没有搜索内容，清空结果\n        return;\n      }\n      this.loading = true; // 显示加载状态\n      request\n        .get(\"/movie/search\", { params: { name: this.name } })\n        .then((res) => {\n          this.tableData = res.data || [];\n          this.loading = false;\n        })\n        .catch((err) => {\n          console.error(err);\n          this.loading = false;\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.el-input {\n  width: 300px;\n  margin: 20px auto;\n}\n</style>\n"]}]}