{"remainingRequest":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\front\\CollectedMeal.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\front\\CollectedMeal.vue","mtime":1735094213503},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKY29uc3QgdXJsID0gIi9jb2xsZWN0TW92aWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbGxlY3RNb3ZpZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlbnRpdHk6IHt9LAogICAgICAvLyDlvZPliY3nvJbovpHnmoTmlbDmja4KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOaYr+WQpuaYvuekuuWvueivneahhgogICAgICBwYWdlTnVtOiAxLAogICAgICAvLyDlvZPliY3pobXnoIEKICAgICAgcGFnZVNpemU6IDEwLAogICAgICAvLyDmr4/pobXmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOaVsOaNruaAu+mHjwogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvLyDooajmoLzmlbDmja4KICAgICAgZmlsZUxpc3Q6IFtdIC8vIOS4iuS8oOeahOaWh+S7tuWIl+ihqAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWKoOi9veihqOagvOaVsOaNrgogICAgbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgcmVxdWVzdC5nZXQoYCR7dXJsfS9wYWdlYCwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLnJlY29yZHMgfHwgW107CiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsIHx8IDA7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliqDovb3mlbDmja7lpLHotKXvvIzor7fnqI3lkI7ph43or5UiKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5L+d5a2Y5pWw5o2u77yI5paw5aKe5oiW5pu05paw77yJCiAgICBzYXZlKCkgewogICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmVudGl0eS5pZCA/ICJwdXQiIDogInBvc3QiOwogICAgICByZXF1ZXN0W21ldGhvZF0odXJsLCB0aGlzLmVudGl0eSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy5lbnRpdHkuaWQgPyAi5pu05paw5oiQ5YqfIiA6ICLmlrDlop7miJDlip8iKTsKICAgICAgICAgIHRoaXMubG9hZCgpOwogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyB8fCAi5pON5L2c5aSx6LSlIik7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pON5L2c5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VIik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpOaVsOaNrgogICAgaGFuZGxlRGVsZXRlKGlkKSB7CiAgICAgIHJlcXVlc3QuZGVsZXRlKGAke3VybH0vJHtpZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgICB0aGlzLmxvYWQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMubXNnIHx8ICLliKDpmaTlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTlpLHotKXvvIzor7fnqI3lkI7ph43or5UiKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5LiK5Lyg5Zu+54mH5oiQ5YqfCiAgICBmaWxlU3VjY2Vzc1VwbG9hZChyZXNwb25zZSkgewogICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgdGhpcy5lbnRpdHkuaW1nID0gcmVzcG9uc2UuZGF0YTsgLy8g5pu05paw5a6e5L2T55qE5Zu+54mH5Zyw5Z2ACiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlm77niYfkuIrkvKDmiJDlip8iKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLm1zZyB8fCAi5Zu+54mH5LiK5Lyg5aSx6LSlIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYflpLHotKUKICAgIGZpbGVVcGxvYWRFcnJvcigpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Zu+54mH5LiK5Lyg5aSx6LSl77yM6K+35qOA5p+l572R57uc5oiW56iN5ZCO6YeN6K+VIik7CiAgICB9LAogICAgLy8g5YiG6aG155u45YWz5pa55rOVCiAgICBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7CiAgICAgIHRoaXMucGFnZU51bSA9IHBhZ2VOdW07CiAgICAgIHRoaXMubG9hZCgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["request","url","name","data","loading","entity","dialogVisible","pageNum","pageSize","total","tableData","fileList","created","load","methods","get","params","then","res","records","catch","$message","error","save","method","id","code","success","msg","handleDelete","delete","fileSuccessUpload","response","img","fileUploadError","handleSizeChange","handleCurrentChange"],"sources":["C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\front\\CollectedMeal.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <!-- 表格区域 -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      border\n      stripe\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\n      <el-table-column label=\"图片\">\n        <template #default=\"scope\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src=\"scope.row.img\"\n            :preview-src-list=\"[scope.row.img]\"\n          ></el-image>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"link\" label=\"链接\">\n        <template #default=\"scope\">\n          <a :href=\"scope.row.link\" target=\"_blank\">{{ scope.row.link }}</a>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template #default=\"scope\">\n          <el-popconfirm\n            title=\"确定删除吗？\"\n            @confirm=\"handleDelete(scope.row.id)\"\n          >\n            <template #reference>\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin: 10px 0; background-color: white\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[5, 10, 20]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n\n    <!-- 弹窗表单 -->\n    <el-dialog title=\"信息\" v-model=\"dialogVisible\" width=\"30%\">\n      <el-form :model=\"entity\" label-width=\"120px\">\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input\n            v-model=\"entity.name\"\n            autocomplete=\"off\"\n            style=\"width: 80%\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"图片\" prop=\"img\">\n          <el-upload\n            action=\"http://localhost:9999/files/upload\"\n            :on-success=\"fileSuccessUpload\"\n            :on-error=\"fileUploadError\"\n            :file-list=\"fileList\"\n          >\n            <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n          </el-upload>\n        </el-form-item>\n        <el-form-item label=\"链接\" prop=\"link\">\n          <el-input\n            v-model=\"entity.link\"\n            autocomplete=\"off\"\n            style=\"width: 80%\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"save\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nconst url = \"/collectMovie\";\n\nexport default {\n  name: \"CollectMovie\",\n  data() {\n    return {\n      loading: false,\n      entity: {}, // 当前编辑的数据\n      dialogVisible: false, // 是否显示对话框\n      pageNum: 1, // 当前页码\n      pageSize: 10, // 每页条数\n      total: 0, // 数据总量\n      tableData: [], // 表格数据\n      fileList: [], // 上传的文件列表\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    // 加载表格数据\n    load() {\n      this.loading = true;\n      request\n        .get(`${url}/page`, {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n          },\n        })\n        .then((res) => {\n          this.loading = false;\n          this.tableData = res.data.records || [];\n          this.total = res.data.total || 0;\n        })\n        .catch(() => {\n          this.loading = false;\n          this.$message.error(\"加载数据失败，请稍后重试\");\n        });\n    },\n\n    // 保存数据（新增或更新）\n    save() {\n      const method = this.entity.id ? \"put\" : \"post\";\n      request[method](url, this.entity)\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.$message.success(this.entity.id ? \"更新成功\" : \"新增成功\");\n            this.load();\n            this.dialogVisible = false;\n          } else {\n            this.$message.error(res.msg || \"操作失败\");\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"操作失败，请稍后重试\");\n        });\n    },\n\n    // 删除数据\n    handleDelete(id) {\n      request\n        .delete(`${url}/${id}`)\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.$message.success(\"删除成功\");\n            this.load();\n          } else {\n            this.$message.error(res.msg || \"删除失败\");\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"删除失败，请稍后重试\");\n        });\n    },\n\n    // 上传图片成功\n    fileSuccessUpload(response) {\n      if (response.code === \"0\") {\n        this.entity.img = response.data; // 更新实体的图片地址\n        this.$message.success(\"图片上传成功\");\n      } else {\n        this.$message.error(response.msg || \"图片上传失败\");\n      }\n    },\n\n    // 上传图片失败\n    fileUploadError() {\n      this.$message.error(\"图片上传失败，请检查网络或稍后重试\");\n    },\n\n    // 分页相关方法\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]}]}