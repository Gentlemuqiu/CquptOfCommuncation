{"remainingRequest":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\CollectedContent.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\CollectedContent.vue","mtime":1735296713874},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKY29uc3QgdXJsID0gIi9jb2xsZWN0TW92aWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbGxlY3RNb3ZpZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDooajmoLzliqDovb3nirbmgIEKICAgICAgcGFnZU51bTogMSwKICAgICAgLy8g5b2T5YmN6aG156CBCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgLy8g5q+P6aG15p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDmlbDmja7mgLvph48KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g6KGo5qC85pWw5o2uCiAgICAgIHVzZXI6IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpIHx8ICJ7fSIpIC8vIOW9k+WJjeeUqOaIt+S/oeaBrwogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsgLy8g5Yid5aeL5YyW5Yqg6L295pWw5o2uCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliqDovb3ooajmoLzmlbDmja4KICAgIGxvYWQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHJlcXVlc3QuZ2V0KGAke3VybH0vcGFnZWAsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgdXNlcklkOiB0aGlzLnVzZXIuaWQgLy8g5Lyg6YCS5b2T5YmN55So5oi355qEIElECiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkcyB8fCBbXTsKICAgICAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbCB8fCAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgfHwgIuWKoOi9veaVsOaNruWksei0pSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWKoOi9veaVsOaNruWksei0pe+8jOivt+eojeWQjumHjeivlSIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTmlbDmja4KICAgIGhhbmRsZURlbGV0ZShpZCkgewogICAgICByZXF1ZXN0LmRlbGV0ZShgJHt1cmx9LyR7aWR9YCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgdGhpcy5sb2FkKCk7IC8vIOmHjeaWsOWKoOi9veaVsOaNrgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgfHwgIuWIoOmZpOWksei0pSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWIoOmZpOWksei0pe+8jOivt+eojeWQjumHjeivlSIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIbpobXnm7jlhbPmlrnms5UKICAgIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["request","url","name","data","loading","pageNum","pageSize","total","tableData","user","JSON","parse","sessionStorage","getItem","created","load","methods","get","params","userId","id","then","res","code","records","$message","error","msg","catch","handleDelete","delete","success","handleSizeChange","handleCurrentChange"],"sources":["C:\\Users\\16278\\Desktop\\homework\\software_developing2\\javaweb-main\\vue\\src\\views\\front\\CollectedContent.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <!-- 表格区域 -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      border\n      stripe\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\n      <el-table-column label=\"图片\">\n        <template #default=\"scope\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src=\"scope.row.img\"\n            :preview-src-list=\"[scope.row.img]\"\n          ></el-image>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"link\" label=\"链接\">\n        <template #default=\"scope\">\n          <a :href=\"scope.row.link\" target=\"_blank\">{{ scope.row.link }}</a>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template #default=\"scope\">\n          <el-popconfirm\n            title=\"确定删除吗？\"\n            @confirm=\"handleDelete(scope.row.id)\"\n          >\n            <template #reference>\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin: 10px 0; background-color: white\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[5, 10, 20]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nconst url = \"/collectMovie\";\n\nexport default {\n  name: \"CollectMovie\",\n  data() {\n    return {\n      loading: false, // 表格加载状态\n      pageNum: 1, // 当前页码\n      pageSize: 10, // 每页条数\n      total: 0, // 数据总量\n      tableData: [], // 表格数据\n      user: JSON.parse(sessionStorage.getItem(\"user\") || \"{}\"), // 当前用户信息\n    };\n  },\n  created() {\n    this.load(); // 初始化加载数据\n  },\n  methods: {\n    // 加载表格数据\n    load() {\n      this.loading = true;\n      request\n        .get(`${url}/page`, {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n            userId: this.user.id, // 传递当前用户的 ID\n          },\n        })\n        .then((res) => {\n          this.loading = false;\n          if (res.code === \"0\") {\n            this.tableData = res.data.records || [];\n            this.total = res.data.total || 0;\n          } else {\n            this.$message.error(res.msg || \"加载数据失败\");\n          }\n        })\n        .catch(() => {\n          this.loading = false;\n          this.$message.error(\"加载数据失败，请稍后重试\");\n        });\n    },\n\n    // 删除数据\n    handleDelete(id) {\n      request\n        .delete(`${url}/${id}`)\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.$message.success(\"删除成功\");\n            this.load(); // 重新加载数据\n          } else {\n            this.$message.error(res.msg || \"删除失败\");\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"删除失败，请稍后重试\");\n        });\n    },\n\n    // 分页相关方法\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.el-table {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"AAwDA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,MAAMC,GAAE,GAAI,eAAe;AAE3B,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MAAE;MAChBC,OAAO,EAAE,CAAC;MAAE;MACZC,QAAQ,EAAE,EAAE;MAAE;MACdC,KAAK,EAAE,CAAC;MAAE;MACVC,SAAS,EAAE,EAAE;MAAE;MACfC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,CAAE;IAC5D,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,IAAI,CAAC,CAAC,EAAE;EACf,CAAC;EACDC,OAAO,EAAE;IACP;IACAD,IAAIA,CAAA,EAAG;MACL,IAAI,CAACX,OAAM,GAAI,IAAI;MACnBJ,OAAM,CACHiB,GAAG,CAAC,GAAGhB,GAAG,OAAO,EAAE;QAClBiB,MAAM,EAAE;UACNb,OAAO,EAAE,IAAI,CAACA,OAAO;UACrBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBa,MAAM,EAAE,IAAI,CAACV,IAAI,CAACW,EAAE,CAAE;QACxB;MACF,CAAC,EACAC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAI,CAAClB,OAAM,GAAI,KAAK;QACpB,IAAIkB,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;UACpB,IAAI,CAACf,SAAQ,GAAIc,GAAG,CAACnB,IAAI,CAACqB,OAAM,IAAK,EAAE;UACvC,IAAI,CAACjB,KAAI,GAAIe,GAAG,CAACnB,IAAI,CAACI,KAAI,IAAK,CAAC;QAClC,OAAO;UACL,IAAI,CAACkB,QAAQ,CAACC,KAAK,CAACJ,GAAG,CAACK,GAAE,IAAK,QAAQ,CAAC;QAC1C;MACF,CAAC,EACAC,KAAK,CAAC,MAAM;QACX,IAAI,CAACxB,OAAM,GAAI,KAAK;QACpB,IAAI,CAACqB,QAAQ,CAACC,KAAK,CAAC,cAAc,CAAC;MACrC,CAAC,CAAC;IACN,CAAC;IAED;IACAG,YAAYA,CAACT,EAAE,EAAE;MACfpB,OAAM,CACH8B,MAAM,CAAC,GAAG7B,GAAG,IAAImB,EAAE,EAAE,EACrBC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;UACpB,IAAI,CAACE,QAAQ,CAACM,OAAO,CAAC,MAAM,CAAC;UAC7B,IAAI,CAAChB,IAAI,CAAC,CAAC,EAAE;QACf,OAAO;UACL,IAAI,CAACU,QAAQ,CAACC,KAAK,CAACJ,GAAG,CAACK,GAAE,IAAK,MAAM,CAAC;QACxC;MACF,CAAC,EACAC,KAAK,CAAC,MAAM;QACX,IAAI,CAACH,QAAQ,CAACC,KAAK,CAAC,YAAY,CAAC;MACnC,CAAC,CAAC;IACN,CAAC;IAED;IACAM,gBAAgBA,CAAC1B,QAAQ,EAAE;MACzB,IAAI,CAACA,QAAO,GAAIA,QAAQ;MACxB,IAAI,CAACS,IAAI,CAAC,CAAC;IACb,CAAC;IACDkB,mBAAmBA,CAAC5B,OAAO,EAAE;MAC3B,IAAI,CAACA,OAAM,GAAIA,OAAO;MACtB,IAAI,CAACU,IAAI,CAAC,CAAC;IACb;EACF;AACF,CAAC","ignoreList":[]}]}