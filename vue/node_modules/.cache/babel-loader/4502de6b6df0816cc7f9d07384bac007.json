{"remainingRequest":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\jubao.vue?vue&type=template&id=b39fda8a","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\jubao.vue","mtime":1735177608575},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1735088236053},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHJlc29sdmVEaXJlY3RpdmUgYXMgX3Jlc29sdmVEaXJlY3RpdmUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBzdHlsZTogewogICAgInBhZGRpbmciOiAiMTBweCIKICB9Cn07CmNvbnN0IF9ob2lzdGVkXzIgPSB7CiAgc3R5bGU6IHsKICAgICJtYXJnaW4iOiAiMTBweCAwIgogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWJsZS1jb2x1bW4iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3BvcGNvbmZpcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtcG9wY29uZmlybSIpOwogIGNvbnN0IF9jb21wb25lbnRfZWxfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFibGUiKTsKICBjb25zdCBfY29tcG9uZW50X2VsX3BhZ2luYXRpb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtcGFnaW5hdGlvbiIpOwogIGNvbnN0IF9kaXJlY3RpdmVfbG9hZGluZyA9IF9yZXNvbHZlRGlyZWN0aXZlKCJsb2FkaW5nIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiDmlbDmja7ooajmoLwgIiksIF93aXRoRGlyZWN0aXZlcygoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF90YWJsZSwgewogICAgZGF0YTogJGRhdGEudGFibGVEYXRhLAogICAgYm9yZGVyOiAiIiwKICAgIHN0cmlwZTogIiIsCiAgICBzdHlsZTogewogICAgICAid2lkdGgiOiAiMTAwJSIKICAgIH0KICB9LCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgIHByb3A6ICJ1c2VyIiwKICAgICAgbGFiZWw6ICLmipXor4nkuroiCiAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgIHByb3A6ICJjb250ZW50IiwKICAgICAgbGFiZWw6ICLmipXor4nlhoXlrrkiCiAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgIGxhYmVsOiAi5pON5L2cIgogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eChzY29wZSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfcG9wY29uZmlybSwgewogICAgICAgIHRpdGxlOiAi56Gu5a6a5Yig6Zmk5ZCX77yfIiwKICAgICAgICBvbkNvbmZpcm06ICRldmVudCA9PiAkb3B0aW9ucy5oYW5kbGVEZWxldGUoc2NvcGUucm93KQogICAgICB9LCB7CiAgICAgICAgcmVmZXJlbmNlOiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgICBzaXplOiAibWluaSIsCiAgICAgICAgICB0eXBlOiAiZGFuZ2VyIgogICAgICAgIH0sIHsKICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gW19jcmVhdGVUZXh0Vk5vZGUoIuW3suefpeaCieW5tuWIoOmZpOivpeivhOiuuiIpXSkpLAogICAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgICB9KV0pLAogICAgICAgIF86IDIgLyogRFlOQU1JQyAqLwogICAgICB9LCAxMDMyIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovLCBbIm9uQ29uZmlybSJdKV0pLAogICAgICBfOiAxIC8qIFNUQUJMRSAqLwogICAgfSldKSwKICAgIF86IDEgLyogU1RBQkxFICovCiAgfSwgOCAvKiBQUk9QUyAqLywgWyJkYXRhIl0pKSwgW1tfZGlyZWN0aXZlX2xvYWRpbmcsICRkYXRhLmxvYWRpbmddXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDliIbpobUgIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9wYWdpbmF0aW9uLCB7CiAgICBvblNpemVDaGFuZ2U6ICRvcHRpb25zLmhhbmRsZVNpemVDaGFuZ2UsCiAgICBvbkN1cnJlbnRDaGFuZ2U6ICRvcHRpb25zLmhhbmRsZUN1cnJlbnRDaGFuZ2UsCiAgICAiY3VycmVudC1wYWdlIjogJGRhdGEucGFnZU51bSwKICAgICJwYWdlLXNpemVzIjogWzUsIDEwLCAyMF0sCiAgICAicGFnZS1zaXplIjogJGRhdGEucGFnZVNpemUsCiAgICBsYXlvdXQ6ICJ0b3RhbCwgc2l6ZXMsIHByZXYsIHBhZ2VyLCBuZXh0LCBqdW1wZXIiLAogICAgdG90YWw6ICRkYXRhLnRvdGFsCiAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJvblNpemVDaGFuZ2UiLCAib25DdXJyZW50Q2hhbmdlIiwgImN1cnJlbnQtcGFnZSIsICJwYWdlLXNpemUiLCAidG90YWwiXSldKV0pOwp9"},{"version":3,"names":["style","_createElementBlock","_hoisted_1","_createCommentVNode","_createBlock","_component_el_table","data","$data","tableData","border","stripe","_createVNode","_component_el_table_column","prop","label","default","_withCtx","scope","_component_el_popconfirm","title","onConfirm","$event","$options","handleDelete","row","reference","_component_el_button","size","type","_cache","loading","_createElementVNode","_hoisted_2","_component_el_pagination","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange","pageNum","pageSize","layout","total"],"sources":["C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\jubao.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <!-- 数据表格 -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      border\n      stripe\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"user\" label=\"投诉人\"></el-table-column>\n      <el-table-column prop=\"content\" label=\"投诉内容\"></el-table-column>\n      <el-table-column label=\"操作\">\n        <template #default=\"scope\">\n          <el-popconfirm title=\"确定删除吗？\" @confirm=\"handleDelete(scope.row)\">\n            <template #reference>\n              <el-button size=\"mini\" type=\"danger\">已知悉并删除该评论</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[5, 10, 20]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Jubao\",\n  data() {\n    return {\n      loading: false, // 表格加载状态\n      pageNum: 1, // 当前页码\n      pageSize: 10, // 每页条数\n      total: 0, // 数据总条数\n      tableData: [], // 表格数据\n    };\n  },\n  created() {\n    this.load(); // 页面加载时获取数据\n  },\n  methods: {\n    // 获取数据\n    load() {\n      this.loading = true;\n      request\n        .get(\"/jubao/page\", {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n          },\n        })\n        .then((res) => {\n          this.loading = false;\n          if (res.code === \"0\") {\n            this.tableData = res.data.records;\n            this.total = res.data.total;\n          } else {\n            this.$message.error(res.msg || \"数据加载失败\");\n          }\n        })\n        .catch(() => {\n          this.loading = false;\n          this.$message.error(\"请求失败，请稍后重试\");\n        });\n    },\n\n    // 删除投诉和评论\n    async handleDelete(row) {\n      this.loading = true;\n      try {\n        // 删除评论\n        await request.delete(`/message/${row.commentId}`);\n        this.$message.success(\"删除评论成功\");\n\n        // 删除投诉\n        await request.delete(`/jubao/${row.id}`);\n        this.$message.success(\"删除投诉记录成功\");\n\n        // 刷新表格\n        this.load();\n      } catch (error) {\n        this.$message.error(\"删除失败，请稍后重试\");\n      } finally {\n        this.loading = false;\n      }\n    },\n\n    // 分页事件\n    handleSizeChange(newPageSize) {\n      this.pageSize = newPageSize;\n      this.debounceLoad(); // 防抖加载\n    },\n    handleCurrentChange(newPageNum) {\n      this.pageNum = newPageNum;\n      this.debounceLoad(); // 防抖加载\n    },\n\n    // 防抖加载\n    debounceLoad: _.debounce(function () {\n      this.load();\n    }, 300),\n  },\n};\n</script>\n"],"mappings":";;EACOA,KAAqB,EAArB;IAAA;EAAA;AAAqB;;EAuBnBA,KAAsB,EAAtB;IAAA;EAAA;AAAsB;;;;;;;;uBAvB7BC,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,mBAAA,UAAa,E,+BACbC,YAAA,CAkBWC,mBAAA;IAhBRC,IAAI,EAAEC,KAAA,CAAAC,SAAS;IAChBC,MAAM,EAAN,EAAM;IACNC,MAAM,EAAN,EAAM;IACNV,KAAmB,EAAnB;MAAA;IAAA;;sBAEA,MAA2D,CAA3DW,YAAA,CAA2DC,0BAAA;MAA1CC,IAAI,EAAC,MAAM;MAACC,KAAK,EAAC;QACnCH,YAAA,CAA+DC,0BAAA;MAA9CC,IAAI,EAAC,SAAS;MAACC,KAAK,EAAC;QACtCH,YAAA,CAQkBC,0BAAA;MARDE,KAAK,EAAC;IAAI;MACdC,OAAO,EAAAC,QAAA,CAAEC,KAAK,KACvBN,YAAA,CAIgBO,wBAAA;QAJDC,KAAK,EAAC,QAAQ;QAAEC,SAAO,EAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY,CAACN,KAAK,CAACO,GAAG;;QACjDC,SAAS,EAAAT,QAAA,CAClB,MAA0D,CAA1DL,YAAA,CAA0De,oBAAA;UAA/CC,IAAI,EAAC,MAAM;UAACC,IAAI,EAAC;;4BAAS,MAASC,MAAA,QAAAA,MAAA,O,iBAAT,WAAS,E;;;;;;;;sDAZ3CtB,KAAA,CAAAuB,OAAO,E,GAmBpB3B,mBAAA,QAAW,EACX4B,mBAAA,CAUM,OAVNC,UAUM,GATJrB,YAAA,CAQiBsB,wBAAA;IAPdC,YAAW,EAAEZ,QAAA,CAAAa,gBAAgB;IAC7BC,eAAc,EAAEd,QAAA,CAAAe,mBAAmB;IACnC,cAAY,EAAE9B,KAAA,CAAA+B,OAAO;IACrB,YAAU,EAAE,WAAW;IACvB,WAAS,EAAE/B,KAAA,CAAAgC,QAAQ;IACpBC,MAAM,EAAC,yCAAyC;IAC/CC,KAAK,EAAElC,KAAA,CAAAkC","ignoreList":[]}]}