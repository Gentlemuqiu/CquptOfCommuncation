{"remainingRequest":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\Collect.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\Collect.vue","mtime":1735295802031},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJDb2xsZWN0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g5pS26JeP5pWw5o2uCiAgICAgIGxvbmdDb21tZW50OiAiIiwKICAgICAgLy8g6ZW/6K+E6K665YaF5a65CiAgICAgIHZpczogZmFsc2UsCiAgICAgIC8vIOW8ueeql+WPr+ingeaApwogICAgICB1c2VyOiBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKSB8fCAie30iKSAvLyDlvZPliY3nlKjmiLfkv6Hmga8KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7IC8vIOWIneWni+WMluWKoOi9veaVsOaNrgogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yqg6L295pS26JeP5pWw5o2uCiAgICBsb2FkKCkgewogICAgICByZXF1ZXN0LmdldChgL2NvbGxlY3QvdXNlci8ke3RoaXMudXNlci5pZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGE7IC8vIOWKoOi9veihqOagvOaVsOaNrgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgfHwgIuWKoOi9veWksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5pi+56S66ZW/6K+E6K665YaF5a65CiAgICBzaG93KGNvbnRlbnQpIHsKICAgICAgdGhpcy5sb25nQ29tbWVudCA9IGNvbnRlbnQ7CiAgICAgIHRoaXMudmlzID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaTmlLbol48KICAgIGhhbmRsZURlbGV0ZShpZCkgewogICAgICByZXF1ZXN0LmRlbGV0ZShgL2NvbGxlY3QvJHtpZH1gKSAvLyDosIPnlKjlkI7nq6/nmoTliKDpmaTmjqXlj6MKICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09ICIwIikgewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuWPlua2iOaUtuiXj+aIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5sb2FkKCk7IC8vIOWIt+aWsOihqOagvOaVsOaNrgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cgfHwgIuWPlua2iOaUtuiXj+Wksei0pSIpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuWPlua2iOaUtuiXj+Wksei0pe+8jOivt+eojeWQjumHjeivlSIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["request","name","data","tableData","longComment","vis","user","JSON","parse","sessionStorage","getItem","created","load","methods","get","id","then","res","code","$message","error","msg","show","content","handleDelete","delete","type","message","catch"],"sources":["C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\Collect.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <!-- 数据表格 -->\n    <el-table :data=\"tableData\" border stripe>\n      <el-table-column prop=\"name\" label=\"贴子\"></el-table-column>\n      <el-table-column label=\"评论内容\" width=\"120\" align=\"center\">\n        <template #default=\"scope\">\n          <el-button type=\"primary\" size=\"small\" @click=\"show(scope.row.content)\">查看</el-button>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"time\" label=\"收藏时间\"></el-table-column>\n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\n        <template #default=\"scope\">\n          <el-popconfirm\n            title=\"确定要取消收藏这个帖子吗？\"\n            @confirm=\"handleDelete(scope.row.id)\"\n          >\n            <template #reference>\n              <el-button type=\"danger\" size=\"small\">取消收藏</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"长评\" v-model=\"vis\" width=\"40%\">\n      <el-card>\n        <v-md-preview :text=\"longComment\"></v-md-preview>\n      </el-card>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Collect\",\n  data() {\n    return {\n      tableData: [], // 收藏数据\n      longComment: \"\", // 长评论内容\n      vis: false, // 弹窗可见性\n      user: JSON.parse(sessionStorage.getItem(\"user\") || \"{}\"), // 当前用户信息\n    };\n  },\n  created() {\n    this.load(); // 初始化加载数据\n  },\n  methods: {\n    // 加载收藏数据\n    load() {\n      request.get(`/collect/user/${this.user.id}`).then((res) => {\n        if (res.code === \"0\") {\n          this.tableData = res.data; // 加载表格数据\n        } else {\n          this.$message.error(res.msg || \"加载失败\");\n        }\n      });\n    },\n    // 显示长评论内容\n    show(content) {\n      this.longComment = content;\n      this.vis = true;\n    },\n    // 删除收藏\n    handleDelete(id) {\n      request\n        .delete(`/collect/${id}`) // 调用后端的删除接口\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.$message({\n              type: \"success\",\n              message: \"取消收藏成功\",\n            });\n            this.load(); // 刷新表格数据\n          } else {\n            this.$message.error(res.msg || \"取消收藏失败\");\n          }\n        })\n        .catch(() => {\n          this.$message.error(\"取消收藏失败，请稍后重试\");\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.el-table {\n  margin-top: 10px;\n}\n</style>\n"],"mappings":"AAkCA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MAAE;MACfC,WAAW,EAAE,EAAE;MAAE;MACjBC,GAAG,EAAE,KAAK;MAAE;MACZC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,CAAE;IAC5D,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,IAAI,CAAC,CAAC,EAAE;EACf,CAAC;EACDC,OAAO,EAAE;IACP;IACAD,IAAIA,CAAA,EAAG;MACLZ,OAAO,CAACc,GAAG,CAAC,iBAAiB,IAAI,CAACR,IAAI,CAACS,EAAE,EAAE,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACzD,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;UACpB,IAAI,CAACf,SAAQ,GAAIc,GAAG,CAACf,IAAI,EAAE;QAC7B,OAAO;UACL,IAAI,CAACiB,QAAQ,CAACC,KAAK,CAACH,GAAG,CAACI,GAAE,IAAK,MAAM,CAAC;QACxC;MACF,CAAC,CAAC;IACJ,CAAC;IACD;IACAC,IAAIA,CAACC,OAAO,EAAE;MACZ,IAAI,CAACnB,WAAU,GAAImB,OAAO;MAC1B,IAAI,CAAClB,GAAE,GAAI,IAAI;IACjB,CAAC;IACD;IACAmB,YAAYA,CAACT,EAAE,EAAE;MACff,OAAM,CACHyB,MAAM,CAAC,YAAYV,EAAE,EAAE,EAAE;MAAA,CACzBC,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAACC,IAAG,KAAM,GAAG,EAAE;UACpB,IAAI,CAACC,QAAQ,CAAC;YACZO,IAAI,EAAE,SAAS;YACfC,OAAO,EAAE;UACX,CAAC,CAAC;UACF,IAAI,CAACf,IAAI,CAAC,CAAC,EAAE;QACf,OAAO;UACL,IAAI,CAACO,QAAQ,CAACC,KAAK,CAACH,GAAG,CAACI,GAAE,IAAK,QAAQ,CAAC;QAC1C;MACF,CAAC,EACAO,KAAK,CAAC,MAAM;QACX,IAAI,CAACT,QAAQ,CAACC,KAAK,CAAC,cAAc,CAAC;MACrC,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]}]}