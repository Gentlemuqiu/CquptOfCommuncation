{"remainingRequest":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\LongComment.vue?vue&type=template&id=ccbe87da","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\LongComment.vue","mtime":1735289519396},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1735088236053},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBzdHlsZTogewogICAgInBhZGRpbmciOiAiMTBweCAwIgogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICBjb25zdCBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybS1pdGVtIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9mb3JtID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWZvcm0iKTsKICBjb25zdCBfY29tcG9uZW50X3ZfbWRfZWRpdG9yID0gX3Jlc29sdmVDb21wb25lbnQoInYtbWQtZWRpdG9yIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CiAgY29uc3QgX2NvbXBvbmVudF9lbF9jYXJkID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWNhcmQiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBzdHlsZTogewogICAgICAibWFyZ2luLXRvcCI6ICIxMHB4IgogICAgfQogIH0sIHsKICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KCgpID0+IFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIHsKICAgICAgICBsYWJlbDogIuagh+mimCIsCiAgICAgICAgImxhYmVsLXdpZHRoIjogIjUwcHgiCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmVudGl0eS50aXRsZSwKICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAkZXZlbnQgPT4gJGRhdGEuZW50aXR5LnRpdGxlID0gJGV2ZW50KSwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICJ3aWR0aCI6ICI1MCUiCiAgICAgICAgICB9CiAgICAgICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pXSksCiAgICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgICAgfSldKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF92X21kX2VkaXRvciwgewogICAgICBtb2RlbFZhbHVlOiAkZGF0YS5lbnRpdHkuY29udGVudCwKICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICRldmVudCA9PiAkZGF0YS5lbnRpdHkuY29udGVudCA9ICRldmVudCksCiAgICAgIGhlaWdodDogIjQwMHB4IgogICAgfSwgbnVsbCwgOCAvKiBQUk9QUyAqLywgWyJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIOS/ruWkjeS6huWPlua2iOaMiemSriAiKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgIG9uQ2xpY2s6ICRvcHRpb25zLmNhbmNlbAogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5bmtogiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgb25DbGljazogJG9wdGlvbnMuc2F2ZQogICAgfSwgewogICAgICBkZWZhdWx0OiBfd2l0aEN0eCgoKSA9PiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IFtfY3JlYXRlVGV4dFZOb2RlKCLlj5HluIMiKV0pKSwKICAgICAgXzogMSAvKiBTVEFCTEUgKi8KICAgIH0sIDggLyogUFJPUFMgKi8sIFsib25DbGljayJdKV0pXSksCiAgICBfOiAxIC8qIFNUQUJMRSAqLwogIH0pOwp9"},{"version":3,"names":["style","_createBlock","_component_el_card","_createVNode","_component_el_form","_component_el_form_item","label","_component_el_input","$data","entity","title","$event","_component_v_md_editor","content","height","_createElementVNode","_hoisted_1","_createCommentVNode","_component_el_button","onClick","$options","cancel","_cache","type","save"],"sources":["C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\front\\LongComment.vue"],"sourcesContent":["<template>\n  <el-card style=\"margin-top: 10px\">\n    <el-form>\n      <el-form-item label=\"标题\" label-width=\"50px\">\n        <el-input v-model=\"entity.title\" style=\"width: 50%\"></el-input>\n      </el-form-item>\n    </el-form>\n    <v-md-editor v-model=\"entity.content\" height=\"400px\"></v-md-editor>\n    <div style=\"padding: 10px 0\">\n      <!-- 修复了取消按钮 -->\n      <el-button @click=\"cancel\">取消</el-button>\n      <el-button type=\"primary\" @click=\"save\">发布</el-button>\n    </div>\n  </el-card>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"LongComment\",\n  data() {\n    return {\n      entity: { title: '' },\n      user: {},\n      id: null\n    }\n  },\n  created() {\n    this.user = sessionStorage.getItem(\"user\") ? JSON.parse(sessionStorage.getItem(\"user\")) : {}\n    this.id = this.$route.query.id // 从路由参数中获取 `id`\n  },\n  methods: {\n    cancel() {\n      // 修复取消逻辑，正确传递 `id` 参数\n      this.$router.push({ path: '/front/detail', query: { id: this.id } });\n    },\n    save() {\n      if (!this.user.username) {\n        this.$message({\n          message: \"请登录\",\n          type: \"warning\"\n        });\n        return;\n      }\n      if (!this.entity.content) {\n        this.$message({\n          message: \"请填写内容\",\n          type: \"warning\"\n        });\n        return;\n      }\n      // 设置评论属性\n      this.entity.username = this.user.username;\n      this.entity.type = 2;\n      this.entity.foreignId = this.id; // 将模块 ID 作为 `foreignId`\n      request.post(\"/message\", this.entity).then(res => {\n        if (res.code === '0') {\n          this.$message({\n            message: \"评论成功\",\n            type: \"success\"\n          });\n          // 跳转回详情页面\n          this.$router.push({ path: '/front/detail', query: { id: this.id } });\n        } else {\n          this.$message({\n            message: res.msg,\n            type: \"error\"\n          });\n        }\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n"],"mappings":";;EAQSA,KAAuB,EAAvB;IAAA;EAAA;AAAuB;;;;;;;;uBAP9BC,YAAA,CAYUC,kBAAA;IAZDF,KAAwB,EAAxB;MAAA;IAAA;EAAwB;sBAC/B,MAIU,CAJVG,YAAA,CAIUC,kBAAA;wBAHR,MAEe,CAFfD,YAAA,CAEeE,uBAAA;QAFDC,KAAK,EAAC,IAAI;QAAC,aAAW,EAAC;;0BACnC,MAA+D,CAA/DH,YAAA,CAA+DI,mBAAA;sBAA5CC,KAAA,CAAAC,MAAM,CAACC,KAAK;qEAAZF,KAAA,CAAAC,MAAM,CAACC,KAAK,GAAAC,MAAA;UAAEX,KAAkB,EAAlB;YAAA;UAAA;;;;;QAGrCG,YAAA,CAAmES,sBAAA;kBAA7CJ,KAAA,CAAAC,MAAM,CAACI,OAAO;iEAAdL,KAAA,CAAAC,MAAM,CAACI,OAAO,GAAAF,MAAA;MAAEG,MAAM,EAAC;6CAC7CC,mBAAA,CAIM,OAJNC,UAIM,GAHJC,mBAAA,aAAgB,EAChBd,YAAA,CAAyCe,oBAAA;MAA7BC,OAAK,EAAEC,QAAA,CAAAC;IAAM;wBAAE,MAAEC,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E;;oCAC7BnB,YAAA,CAAsDe,oBAAA;MAA3CK,IAAI,EAAC,SAAS;MAAEJ,OAAK,EAAEC,QAAA,CAAAI;;wBAAM,MAAEF,MAAA,QAAAA,MAAA,O,iBAAF,IAAE,E","ignoreList":[]}]}