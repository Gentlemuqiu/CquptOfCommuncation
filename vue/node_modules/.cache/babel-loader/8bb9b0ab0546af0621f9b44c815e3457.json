{"remainingRequest":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\Login.vue","mtime":1735141565174},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCByZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICByb2xlOiAxCiAgICAgIH0sCiAgICAgIC8vIOWIneWni+WMlueZu+W9leihqOWNlQogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g55m75b2V5oyJ6ZKu5Yqg6L2954q25oCBCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI0iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VyIik7IC8vIOa4hemZpOe8k+WtmOeUqOaIt+S/oeaBrwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9naW4oKSB7CiAgICAgIC8vIOihqOWNleagoemqjAogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsgLy8g5byA5ZCv5Yqg6L2954q25oCBCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCByZXF1ZXN0LnBvc3QoIi91c2VyL2xvZ2luIiwgdGhpcy5mb3JtKTsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAiMCIpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIueZu+W9leaIkOWKnyIpOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOyAvLyDnvJPlrZjnlKjmiLfkv6Hmga8KICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFBhdGggPSByZXMuZGF0YS5yb2xlICE9PSAxID8gIi9mcm9udC9ob21lIiA6ICIvTGF5b3V0IjsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChyZWRpcmVjdFBhdGgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIue9kee7nOmUmeivr++8jOivt+eojeWQjuWGjeivlSIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7IC8vIOWFs+mXreWKoOi9veeKtuaAgQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["request","name","data","form","username","password","role","loading","rules","required","message","trigger","created","sessionStorage","removeItem","methods","login","$refs","validate","valid","res","post","code","$message","success","setItem","JSON","stringify","redirectPath","$router","push","error","msg"],"sources":["C:\\Users\\16278\\Desktop\\作业\\软件开发实训二\\javaweb-main\\vue\\src\\views\\Login.vue"],"sourcesContent":["<template>\n  <div class=\"bg-container\">\n    <div class=\"login-container\">\n      <div class=\"login-title\">欢迎登录 CQUPT 交流论坛</div>\n      <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n        <!-- 用户名输入框 -->\n        <el-form-item prop=\"username\">\n          <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <!-- 密码输入框 -->\n        <el-form-item prop=\"password\">\n          <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" placeholder=\"请输入密码\" show-password></el-input>\n        </el-form-item>\n        <!-- 角色选择 -->\n        <el-form-item>\n          <el-radio-group v-model=\"form.role\">\n            <el-radio :label=\"1\">管理员</el-radio>\n            <el-radio :label=\"2\">普通用户</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <!-- 登录按钮 -->\n        <el-form-item>\n          <el-button :loading=\"loading\" class=\"login-button\" type=\"primary\" @click=\"login\">登 录</el-button>\n        </el-form-item>\n        <!-- 链接跳转 -->\n        <el-form-item class=\"link-buttons\">\n          <el-button type=\"text\" @click=\"$router.push('/pass')\">忘记密码</el-button>\n          <el-button type=\"text\" @click=\"$router.push('/register')\">前往注册 &gt;&gt;</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      form: { username: \"\", password: \"\", role: 1 }, // 初始化登录表单\n      loading: false, // 登录按钮加载状态\n      rules: {\n        username: [{ required: true, message: \"请输入用户名\", trigger: \"blur\" }],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n      },\n    };\n  },\n  created() {\n    sessionStorage.removeItem(\"user\"); // 清除缓存用户信息\n  },\n  methods: {\n    async login() {\n      // 表单校验\n      this.$refs.form.validate(async (valid) => {\n        if (valid) {\n          this.loading = true; // 开启加载状态\n          try {\n            const res = await request.post(\"/user/login\", this.form);\n            if (res.code === \"0\") {\n              this.$message.success(\"登录成功\");\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data)); // 缓存用户信息\n              const redirectPath = res.data.role !== 1 ? \"/front/home\" : \"/Layout\";\n              this.$router.push(redirectPath);\n            } else {\n              this.$message.error(res.msg);\n            }\n          } catch (error) {\n            this.$message.error(\"网络错误，请稍后再试\");\n          } finally {\n            this.loading = false; // 关闭加载状态\n          }\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* 背景容器 */\n.bg-container {\n  display: flex;\n  justify-content: center; /* 水平居中 */\n  align-items: center; /* 垂直居中 */\n  width: 100%;\n  height: 100vh;\n  background: url(\"../assets/image/bg.png\") no-repeat center center;\n  background-size: cover; /* 背景图片全屏填充 */\n  background-color: LightYellow; /* 背景颜色 */\n}\n\n/* 登录容器 */\n.login-container {\n  width: 400px;\n  background-color: white;\n  padding: 30px;\n  border-radius: 10px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n}\n\n/* 标题样式 */\n.login-title {\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n  color: dodgerblue;\n  margin-bottom: 20px;\n}\n\n/* 登录按钮样式 */\n.login-button {\n  width: 100%;\n}\n\n/* 链接按钮容器 */\n.link-buttons {\n  text-align: center;\n}\n</style>\n"],"mappings":";AAmCA,OAAOA,OAAM,MAAO,iBAAiB;AAErC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAE,CAAC;MAAE;MAC/CC,OAAO,EAAE,KAAK;MAAE;MAChBC,KAAK,EAAE;QACLJ,QAAQ,EAAE,CAAC;UAAEK,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,QAAQ;UAAEC,OAAO,EAAE;QAAO,CAAC,CAAC;QAClEN,QAAQ,EAAE,CAAC;UAAEI,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC;MAClE;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRC,cAAc,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;EACrC,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAA,EAAG;MACZ;MACA,IAAI,CAACC,KAAK,CAACd,IAAI,CAACe,QAAQ,CAAC,MAAOC,KAAK,IAAK;QACxC,IAAIA,KAAK,EAAE;UACT,IAAI,CAACZ,OAAM,GAAI,IAAI,EAAE;UACrB,IAAI;YACF,MAAMa,GAAE,GAAI,MAAMpB,OAAO,CAACqB,IAAI,CAAC,aAAa,EAAE,IAAI,CAAClB,IAAI,CAAC;YACxD,IAAIiB,GAAG,CAACE,IAAG,KAAM,GAAG,EAAE;cACpB,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAC,MAAM,CAAC;cAC7BX,cAAc,CAACY,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,GAAG,CAAClB,IAAI,CAAC,CAAC,EAAE;cAC1D,MAAM0B,YAAW,GAAIR,GAAG,CAAClB,IAAI,CAACI,IAAG,KAAM,IAAI,aAAY,GAAI,SAAS;cACpE,IAAI,CAACuB,OAAO,CAACC,IAAI,CAACF,YAAY,CAAC;YACjC,OAAO;cACL,IAAI,CAACL,QAAQ,CAACQ,KAAK,CAACX,GAAG,CAACY,GAAG,CAAC;YAC9B;UACF,EAAE,OAAOD,KAAK,EAAE;YACd,IAAI,CAACR,QAAQ,CAACQ,KAAK,CAAC,YAAY,CAAC;UACnC,UAAU;YACR,IAAI,CAACxB,OAAM,GAAI,KAAK,EAAE;UACxB;QACF;MACF,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}]}