{"remainingRequest":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\notice.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\notice.vue","mtime":1735208981796},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\babel.config.js","mtime":1735045997675},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1735088236947},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1735088236894},{"path":"C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1735088235833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKY29uc3QgdXJsID0gIi9ub3RpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5vdGljZSIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlbnRpdHk6IHt9LAogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5ZCN56ewIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLor7fovpPlhaXlhoXlrrkiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOa2iOaBr+aPkOekuuaWueazlQogICAgc2hvd01lc3NhZ2UodHlwZSwgbWVzc2FnZSkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlLAogICAgICAgIG1lc3NhZ2UKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yqg6L296KGo5qC85pWw5o2uCiAgICBsb2FkKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICByZXF1ZXN0LmdldCh1cmwgKyAiL3BhZ2UiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJlcnJvciIsICLmlbDmja7liqDovb3lpLHotKXvvIzor7fnqI3lkI7ph43or5UiKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5paw5aKeCiAgICBhZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZW50aXR5ID0ge307CiAgICB9LAogICAgLy8g5L+d5a2Y77yI5paw5aKe5oiW5pu05paw77yJCiAgICBzYXZlKCkgewogICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHJldHVybjsKICAgICAgICBjb25zdCBtZXRob2QgPSB0aGlzLmVudGl0eS5pZCA/ICJwdXQiIDogInBvc3QiOwogICAgICAgIHJlcXVlc3RbbWV0aG9kXSh1cmwsIHRoaXMuZW50aXR5KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgPT09ICIwIikgewogICAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJzdWNjZXNzIiwgdGhpcy5lbnRpdHkuaWQgPyAi5pu05paw5oiQ5YqfIiA6ICLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgiZXJyb3IiLCByZXMubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJlcnJvciIsICLmk43kvZzlpLHotKXvvIzor7fnqI3lkI7ph43or5UiKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g57yW6L6RCiAgICBoYW5kbGVFZGl0KHJvdykgewogICAgICB0aGlzLmVudGl0eSA9IHsKICAgICAgICAuLi5yb3cKICAgICAgfTsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliKDpmaQKICAgIGhhbmRsZURlbGV0ZShpZCkgewogICAgICByZXF1ZXN0LmRlbGV0ZSh1cmwgKyAiLyIgKyBpZCkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJzdWNjZXNzIiwgIuWIoOmZpOaIkOWKnyIpOwogICAgICAgICAgdGhpcy5sb2FkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoImVycm9yIiwgcmVzLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5zaG93TWVzc2FnZSgiZXJyb3IiLCAi5Yig6Zmk5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VIik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPkeW4gwogICAgcHVibGlzaChyb3cpIHsKICAgICAgcm93LnN0YXR1cyA9ICLlt7Llj5HluIMiOwogICAgICByZXF1ZXN0LnB1dCh1cmwsIHJvdykudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gIjAiKSB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJzdWNjZXNzIiwgIuWPkeW4g+aIkOWKnyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnNob3dNZXNzYWdlKCJlcnJvciIsIHJlcy5tc2cpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuc2hvd01lc3NhZ2UoImVycm9yIiwgIuWPkeW4g+Wksei0pe+8jOivt+eojeWQjumHjeivlSIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIbpobXlip/og70KICAgIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["request","url","name","data","loading","entity","dialogVisible","pageNum","pageSize","total","tableData","rules","required","message","trigger","content","created","load","methods","showMessage","type","$message","get","params","then","res","records","catch","add","save","$refs","form","validate","valid","method","id","code","msg","handleEdit","row","handleDelete","delete","publish","status","put","handleSizeChange","handleCurrentChange"],"sources":["C:\\Users\\16278\\Desktop\\homework\\software_developing2\\CommunicationOfcqupt\\vue\\src\\views\\notice.vue"],"sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <!-- 功能区域 -->\n    <div style=\"margin: 10px 0\">\n      <el-button type=\"primary\" @click=\"add\">新增</el-button>\n    </div>\n\n    <!-- 表格显示 -->\n    <el-table\n      v-loading=\"loading\"\n      :data=\"tableData\"\n      border\n      stripe\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\n      <el-table-column prop=\"content\" label=\"内容\"></el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\"></el-table-column>\n      <el-table-column prop=\"time\" label=\"发布时间\"></el-table-column>\n\n      <el-table-column label=\"操作\">\n        <template #default=\"scope\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"publish(scope.row)\"\n            :disabled=\"scope.row.status === '已发布'\"\n          >发布</el-button>\n          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\n          <el-popconfirm\n            title=\"确定删除吗？\"\n            @confirm=\"handleDelete(scope.row.id)\"\n          >\n            <template #reference>\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 分页 -->\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[5, 10, 20]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </div>\n\n    <!-- 弹窗表单 -->\n    <el-dialog title=\"信息\" v-model=\"dialogVisible\" width=\"40%\">\n      <el-form :model=\"entity\" label-width=\"120px\" :rules=\"rules\" ref=\"form\">\n        <el-form-item label=\"名称\" prop=\"name\">\n          <el-input v-model=\"entity.name\" autocomplete=\"off\" style=\"width: 80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"内容\" prop=\"content\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"entity.content\"\n            autocomplete=\"off\"\n            style=\"width: 80%\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取消</el-button>\n          <el-button type=\"primary\" @click=\"save\">确定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport request from \"@/utils/request\";\n\nconst url = \"/notice\";\n\nexport default {\n  name: \"Notice\",\n  data() {\n    return {\n      loading: false,\n      entity: {},\n      dialogVisible: false,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      tableData: [],\n      rules: {\n        name: [{ required: true, message: \"请输入名称\", trigger: \"blur\" }],\n        content: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\n      },\n    };\n  },\n  created() {\n    this.load();\n  },\n  methods: {\n    // 消息提示方法\n    showMessage(type, message) {\n      this.$message({ type, message });\n    },\n\n    // 加载表格数据\n    load() {\n      this.loading = true;\n      request\n        .get(url + \"/page\", {\n          params: {\n            pageNum: this.pageNum,\n            pageSize: this.pageSize,\n          },\n        })\n        .then((res) => {\n          this.loading = false;\n          this.tableData = res.data.records;\n          this.total = res.data.total;\n        })\n        .catch(() => {\n          this.loading = false;\n          this.showMessage(\"error\", \"数据加载失败，请稍后重试\");\n        });\n    },\n\n    // 新增\n    add() {\n      this.dialogVisible = true;\n      this.entity = {};\n    },\n\n    // 保存（新增或更新）\n    save() {\n      this.$refs.form.validate((valid) => {\n        if (!valid) return;\n\n        const method = this.entity.id ? \"put\" : \"post\";\n        request[method](url, this.entity)\n          .then((res) => {\n            if (res.code === \"0\") {\n              this.showMessage(\n                \"success\",\n                this.entity.id ? \"更新成功\" : \"新增成功\"\n              );\n              this.load();\n              this.dialogVisible = false;\n            } else {\n              this.showMessage(\"error\", res.msg);\n            }\n          })\n          .catch(() => {\n            this.showMessage(\"error\", \"操作失败，请稍后重试\");\n          });\n      });\n    },\n\n    // 编辑\n    handleEdit(row) {\n      this.entity = { ...row };\n      this.dialogVisible = true;\n    },\n\n    // 删除\n    handleDelete(id) {\n      request\n        .delete(url + \"/\" + id)\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.showMessage(\"success\", \"删除成功\");\n            this.load();\n          } else {\n            this.showMessage(\"error\", res.msg);\n          }\n        })\n        .catch(() => {\n          this.showMessage(\"error\", \"删除失败，请稍后重试\");\n        });\n    },\n\n    // 发布\n    publish(row) {\n      row.status = \"已发布\";\n      request\n        .put(url, row)\n        .then((res) => {\n          if (res.code === \"0\") {\n            this.showMessage(\"success\", \"发布成功\");\n          } else {\n            this.showMessage(\"error\", res.msg);\n          }\n        })\n        .catch(() => {\n          this.showMessage(\"error\", \"发布失败，请稍后重试\");\n        });\n    },\n\n    // 分页功能\n    handleSizeChange(pageSize) {\n      this.pageSize = pageSize;\n      this.load();\n    },\n    handleCurrentChange(pageNum) {\n      this.pageNum = pageNum;\n      this.load();\n    },\n  },\n};\n</script>\n"],"mappings":"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","ignoreList":[]}]}